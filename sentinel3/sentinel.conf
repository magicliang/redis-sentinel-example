# 常见参数有 4 个

# my_redis_master 是主节点的别名，redis1 是主节点的域名，当前 sentinel 起始就要监控一个 redis 节点，意味着 sentinel 的拓扑结构受 redis 集群的拓扑结构影响。3 意味着quorum是 3 ，3个节点认为 master 不可达才形成决议。
# 只有集群里的节点达到 max(quorum, num(sentinel)/2 + 1) ，选举才成立。在大多数情况下 quorum = num(sentinel)/2 + 1
sentinel myid fc378f1db8317e5c2a2bebe67214839938c5c6a0
# sentinel 会定期发送 ping 到 master（其实也包括所有其他节点），3000 毫秒不回应就意味着不可达
sentinel deny-scripts-reconfig yes
# 集群故障转移四个阶段的任何一个步骤的失败时延，如果超过这个时间则会重新发起新故障转移
sentinel monitor my_redis_master 172.22.1.10 6379 3
# redis 同时对从节点进行故障转移的复制的并发度
sentinel down-after-milliseconds my_redis_master 3000

# 辅助参数
port 26379
# 写了这个文件就会导致 stdout 不再输出
logfile "sentinel.log"
# 不要乱用镜像中不存在的路径
#dir /opt/soft/redis/data
# Generated by CONFIG REWRITE
dir "/data"
sentinel failover-timeout my_redis_master 10000
sentinel config-epoch my_redis_master 0
sentinel leader-epoch my_redis_master 0
sentinel known-replica my_redis_master 172.22.1.30 6379
sentinel known-replica my_redis_master 172.22.1.20 6379
sentinel known-sentinel my_redis_master 172.22.1.11 26379 bf3c04b64d4931ad12522156da590d60674b8b1d
sentinel known-sentinel my_redis_master 172.22.1.21 26379 43355d786f104eef6af5e3da1909ea8754c8429b
sentinel current-epoch 0
